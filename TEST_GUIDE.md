# 🧪 나무의사 PDF Q&A MCP 테스트 가이드

## 🚀 빠른 시작

### 1. 설치 및 설정
```bash
# 의존성 설치
npm install

# 빌드
npm run build

# Claude Desktop 설정
npm run setup-claude

# Claude Desktop 재시작
```

### 2. 테스트 시나리오

#### 📚 PDF 검색 테스트
```
💬 "광합성에 대해 설명해주세요"
💬 "갈색반점병의 원인과 특징을 알려주세요"
💬 "나무보호법 제1조의 내용은 무엇인가요?"
```

#### 📄 기출문제 근거 찾기 테스트
```
💬 "다음 중 진균성 병해에 해당하는 것은?
1) 진딧물
2) 갈색반점병
3) 전정
4) 광합성"
```

#### 🧠 해설 생성 테스트
```
💬 "위 문제의 정답은 2번입니다. 해설을 생성해주세요"
```

#### 💡 개념 추출 테스트
```
💬 "광합성은 식물이 빛에너지를 이용하여 이산화탄소와 물로부터 포도당을 합성하는 과정이다. 이 텍스트에서 중요한 개념을 추출해주세요"
```

#### 📌 북마크 기능 테스트
```
💬 "광합성 개념을 북마크로 저장해주세요"
💬 "저장된 북마크를 조회해주세요"
```

#### 🎯 암기카드 생성 테스트
```
💬 "광합성에 대한 암기카드를 만들어주세요"
💬 "학습 자료를 조회해주세요"
```

## 🔧 주요 MCP 도구

### 1. search_pdf
- **기능**: PDF 교재에서 질문에 대한 답변 검색
- **입력**: 질문, 최대 결과 수
- **출력**: 교재명, 페이지, 근거 문장

### 2. find_source
- **기능**: 기출문제에 대한 교재 근거 찾기
- **입력**: 문제 내용, 선택지(선택)
- **출력**: 관련 교재 근거

### 3. generate_explanation
- **기능**: 기출문제 해설 생성
- **입력**: 문제, 정답, 근거(선택)
- **출력**: 상세 해설

### 4. extract_concepts
- **기능**: 중요한 개념 추출
- **입력**: 텍스트, 과목(선택)
- **출력**: 추출된 개념들

### 5. create_bookmark
- **기능**: 북마크 생성
- **입력**: 제목, 내용, 타입, 태그(선택)
- **출력**: 생성된 북마크

### 6. get_bookmarks
- **기능**: 북마크 조회
- **입력**: 타입(선택), 태그(선택)
- **출력**: 북마크 목록

### 7. create_flashcard
- **기능**: 암기카드 생성
- **입력**: 앞면, 뒷면, 과목, 개념(선택)
- **출력**: 생성된 암기카드

### 8. get_study_materials
- **기능**: 학습 자료 조회
- **입력**: 타입(선택), 과목(선택)
- **출력**: 학습 자료 목록

## 🐛 문제 해결

### 데이터베이스 초기화
```bash
# 데이터베이스 파일 삭제
rm tree-doctor-pdf-qa.db

# 서버 재시작
npm run start
```

### 로그 확인
```bash
# Claude Desktop 로그 확인 (macOS)
tail -f ~/Library/Logs/Claude/claude-desktop.log
```

### 설정 파일 확인
```bash
# Claude Desktop 설정 확인 (macOS)
cat ~/Library/Application\ Support/Claude/claude_desktop_config.json
```

## 📊 성능 최적화

### PDF 파일 크기 제한
- 최대 1GB 파일 지원
- 권장: 100MB 이하

### 검색 성능 향상
- 짧은 키워드 사용
- 정확한 용어 검색

### 메모리 관리
- 10개 이상 PDF 로드 시 자동 캐시 정리
- 정기적인 데이터베이스 최적화

## 🎯 고급 기능

### 시험 전날 요약 생성
```
💬 "시험 전날 요약을 생성해주세요"
```

### 반복 개념 클러스터링
```
💬 "같은 개념의 반복 문제를 찾아주세요"
```

### 오답 노트 생성
```
💬 "틀린 문제를 오답 노트에 추가해주세요"
```

---

💪 **나무의사 자격증 합격을 위한 AI 학습 시스템!**